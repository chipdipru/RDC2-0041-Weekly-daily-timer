![](https://static.chipdip.ru/lib/926/DOC003926003.jpg)

<p>Таймер позволяет управлять реле по расписанию в любой день недели. Расписание составляется в удобной форме в программе на ПК, и записывается в память таймера через порт USB. Реальное время таймера синхронизируется в системным временем персонального компьютера. В устройство встроена резервная батарея бесперебойного хода часов в течение года. </p><p><h2>Примеры использования:</h2></p><p>Управление электрическим обогревателем или теплыми полами. Обогреватель будет включаться в заданное время. Например - включение за час до прихода владельца и выключение поздно вечером, затем включение за полчаса до пробуждения и выключение в момент ухода на работу.</p><p>Автополив растений. Для регулярного увлажнения грунта на участке во время отпуска или командировки.</p><p>Аквариум: управление светом и подачей воздуха в аквариумах (например, таймер будет включать / отключать воздух в аквариуме каждые 2 часа).</p><p>Имитация присутствия: при долгом отсутствии хозяев дома таймер может имитировать эффект присутствия (к нескольким запрограммированным таймерам можно подключить разные нагрузки - светильники в комнатах, радиоприемник, телевизор и другие приборы, которые будут автоматически включаться и отключаться в заданное время).</p><p>Утреннее включение бытовых приборов: чайники, кофеварки, увлажнители воздуха... Можно использовать прибор в качестве будильника (подключив к таймеру любое электрооборудование: ТВ, магнитолу, радиоприемник, свет).</p><p>Освещение на улице или во дворе, по расписанию. С помощью таймера можно организовать использование электроприборов только в ночное время суток. В квартирах с многотарифным учетом электричества, что значительно сократит расходы на электроэнергию.</p><p>Освещением рекламных баннеров, щитов, фасадов зданий, уличных витрин магазинов.</p><p><h2>Технические характеристики</h2></p><p>Цикл работы - недельный (7 дней)<br>Шаг установки - 1 мин.<br>Количество ячеек в одном дне (on/off) - 32<br>	Время автономной работы часов  - 1 год.<br>Потребляемая мощность - не более 1 Вт<br>Напряжение питания DC – 5В<br>Настройка – USB ПК<br>Синхронизация часов – системное время ПК<br>Формат файла расписания - .txt<br>Размер платы мм – 50,8 x 50,8 x 10,0 <br></p><p><h2>Схема</h2></p><p>Таймер собран на микроконтроллере STM32F042K6T6 с аппаратным USB. В качестве часов реального времени используется микросхема DS3231SN+. Это сверхточные RTC с интерфейсом I2C, ТСХО и внутренним резонатором. Расписание работы таймера записывается и хранится в энергонезависимой памяти емкостью 64Кбит M95640-WMN6P. Порт USB защищён USBLC6. Индикация времени и режимов работы выведена на четыре семисегментных светодиодных индикатора в SMD корпусах и светодиод. </p><p><a href="https://static.chipdip.ru/lib/948/DOC003948353.png" class="galery"><img src="https://static.chipdip.ru/lib/948/DOC003948354.png" alt="Схема"></a></p><p><h2>Подключение</h2></p><p>Управляющий выход таймера можно подключить двумя способами. Через оптопару обеспечивающую гальваническую развязку. Непосредственно с уровнями управляющего сигнала 3,3В или TTL 5В.</p><p>Схема включения с опторазвязкой. На примере одноканального релейного модуля RDC1-1RT.</p><p><a href="https://static.chipdip.ru/lib/948/DOC003948355.png" class="galery"><img src="https://static.chipdip.ru/lib/948/DOC003948356.png" alt="Схема OP"></a></p><p>Схема включения без опторазвязки. </p><p><a href="https://static.chipdip.ru/lib/948/DOC003948357.png" class="galery"><img src="https://static.chipdip.ru/lib/948/DOC003948356.png" alt="Схема NOOP"></a></p><p><h2>Работа с программным обеспечением.</h2></p><p>Все настройки таймера производятся с помощью специального ПО. Для корректной работы программы необходимо сначала подключить таймер к порту USB, а затем запустить оболочку RDC2-0041.</p><p>Если вы собираете таймер самостоятельно, то прошивать его нужно с помощью бесплатной утилиты DfuSeDemo. Инструкцию по прошивке найдете на github или нашем сайте в разделе документация. </p><p><h2>Установка внутренних часов. </h2></p><p>Установите в батарейный отсек элемент питания CR1220. Подключите устройство к порту USB и затем откройте программу настройки. В пункте меню «Сервис» наступите на строчку «Настройка времени».</p><p><a href="https://static.chipdip.ru/lib/948/DOC003948362.png" class="galery"><img src="https://static.chipdip.ru/lib/948/DOC003948362.png" alt="SET RTC"></a></p><p>Откроется окно синхронизации времени. В нём выберите часовой пояс, свой или тот в который вы захотите отправить устройство для установки. Установите галочку в чекбокс «Синхронизировать время с ПК» и нажмите кнопку «Применить». Микросхема RTC настроится на время ПК и на индикаторах таймера отобразится текущее время. </p><p><h2>Расписание событий.</h2></p><p>На главном поле программы выберите день недели. Затем переходите в пункт меню  «Событие». Выберите «Создать». Откроется окно «Событие». Установите время события и выберите действие реле – «Отключено», «Включено». После нажатия кнопки «Применить» событие отобразится в выбранном дне недели. Минимальное время между событиями – 1 минута. </p><p><a href="https://static.chipdip.ru/lib/948/DOC003948361.png" class="galery"><img src="https://static.chipdip.ru/lib/948/DOC003948361.png" alt="События"></a></p><p><a href="https://static.chipdip.ru/lib/948/DOC003948359.png" class="galery"><img src="https://static.chipdip.ru/lib/948/DOC003948359.png" alt="События"></a></p><p>Затем переключайтесь на следующий день недели и заполняйте его событиями. </p><p>В каждом дне можно установить до 32 событий.</p><p><a href="https://static.chipdip.ru/lib/948/DOC003948360.png" class="galery"><img src="https://static.chipdip.ru/lib/948/DOC003948360.png" alt="События"></a></p><p>События можно редактировать, копировать и затем вставлять в другой день недели. Если нужно очистить расписание от всех событий нажмите «Удалить все события». При этом события удаляться только из расписания не из устройства. При необходимости можно сохранить расписание в формате .txt или загрузить сохранённое. Пункт меню «Файл». При необходимости можно внести изменения непосредственно в сохранённый файл и снова загрузить расписание в устройство. </p><p>Формат файла</p><p><a href="https://static.chipdip.ru/lib/948/DOC003948363.png" class="galery"><img src="https://static.chipdip.ru/lib/948/DOC003948363.png" alt="Текстовый файл настроек"></a></p><p>После заполнения расписания событиями откройте пункт меню «Сервис» и «Загрузите все события в устройство». Отключайте устройство от USB. Таймер готов к работе!</p><p><h2>Индикация</h2></p><p>Кнопка с правой стороны от дисплея переключает индикатор в один из четырёх режимов отображения.<br>1. Показывает текущее время. Разделительная точка включается раз в секунду.<br>2. Показывает отсчет времени до начала следующего события. Разделительная точка быстро моргает. Если до начала события больше чем 99 часов на дисплее отображаются только часы, а вместо минут символ - h<br>3. Если расписание не заполнено на дисплее отображаются четыре прочерка.<br>4. Дисплей выключен.</p><p>Это открытый проект! Лицензия, под которой он распространяется – <a href="https://creativecommons.org/licenses/by-sa/3.0/" class="link">Creative Commons - Attribution - Share Alike license</a>.</p>
